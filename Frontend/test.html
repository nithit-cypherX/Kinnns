<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title></title>
</head>

<body>
    <h1>Hello, World!</h1>
    <p>This is a simple webpage.</p>

    <ul class="navbar-nav">
        <li lass="nav-item">
            <a class="nav-link active" href="/">HelloWorld</a>
        </li>
        <li class="nav-item">
            <!-- broken -->
            <!-- <a class="nav-link" href="/bbq.html">Shabu</a> -->
            <a class="nav-link" href="/barbq">Shabu</a>
        </li>
    </ul>

    <!-- name attribute must have , action = target route  , method = "GET or POST" -->
    <form id="frmRegister" action="/my-form" method="GET">
        <label for="fname">First name:</label><br>
        <input type="text" name="fname" id="fname"><br>
    
        <label for="lname">Last name:</label><br>
        <input type="text" name="lname" id="lname"><br>
    
        <button type="submit">Submit</button>
    </form>
    

    <script>
        document.querySelector('form').addEventListener('submit', async function (e) {
            e.preventDefault();

            const fname = document.querySelector('#fname').value;
            const lname = document.querySelector('#lname').value;

            try{
                const response = await fetch(`http://localhost:3000/my-form?fname=${fname}&lname=${lname}`);
                const data = await response.text();
                alert(data);
            }catch(err){
                console.error('Fetch Error',err);
            }
        })
    </script>
</body>

</html>